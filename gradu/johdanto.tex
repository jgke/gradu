\section{Johdanto}

C~\citep{C18} on nykypäivänä yksi eniten käytetyimmistä ohjelmointikielistä. C
on ollut vallitseva ohjelmointikieli järjestelmäohjelmoinnissa kielen
alkuajoista lähtien. Useita ohjelmointikieliä on luotu historian saatossa,
joiden oli tarkoitus syrjäyttää C, mutta C on vieläkin johtavana kielenä
varsinkin sulautetuissa järjestelmissä ja Unix-pohjaisten käyttöjärjestelmien
vallitsevana ohjelmointikielenä. C on myös käytössä
Windows-käyttöjärjestelmäperheen ydinkomponenttien toteutuksessa.

Tutkielmassa selvitetään C:n ominaisuuksia, joiden takia se on ollut
suosituimpien ohjelmointikielten joukossa vuosikymmeniä, kuten myös
ominaisuuksia, joita C:stä voisi kehittää. Vaihtoehtoisista kielistä
selvitetään, mitkä ominaisuudet ovat voineet estää kielen käytön C:n sijaan
uusissa ja olemassa olevissa projekteissa ja mitkä ominaisuudet ovat taas
olleet parannuksia C:n ominaisuuksiin verrattuna. Tutkielmassa suunnitellaan
näiden tulosten pohjalta uusi ohjelmointikieli, Purkka.

C:n vaihtoehdoiksi tutkitaan seuraavia tehokkaaseen ohjelmointiin tarkoitettuja
kieliä: Ada~\citep{ADA12}, C++~\citep{CPP17}, D~\citep{D}, Go~\citep{golang}
sekä Rust~\citep{rust}. Näistä kielistä tutkitaan, mikä tai mitkä ominaisuudet
ovat estäneet C:n korvaamisen ja mitkä ominaisuudet ovat olleet parannuksia
C:hen verrattuna. Vertailun tuloksia käytetään uuden ohjelmointikielen
suunnitteluun, jossa otetaan tavoitteeksi luoda C:tä parempi ohjelmointikieli
tutkielman määrittelyjen puitteissa.

Kaikkia verrattavia kieliä tutkitaan sekä analyyttisesti että
suorituskykymittausten muodossa. Suorituskykymittauksiin käytetään Benchmarks
Gamea~\citep{benchmarks}, johon on toteutettu lukuisia pieniä ohjelmia
suorituskyvyn mittaamiseen. D on ainoa tutkielman käsittelemä kieli, jota
Benchmarks Game ei sisällä. Benchmarks Gamen Purkka-ohjelmat on toteutettu
nopeimpien C-ohjelmien pohjalta, jotta ohjelmien arkkitehtuuriset valinnat
eivät vaikuta vertailuun. 

Tutkielman toisessa luvussa käsitellään C-ohjelmointikieltä. Kielestä
käsitellään perusteiden lisäksi kielen historiaa ja nykypäivää, tärkeimpiä
ominaisuuksia ja kehityskohteita. Historian käsitteleminen mahdollistaa
ymmärryksen siitä, mitkä C:n ominaisuudet ovat tärkeitä kielen nykykäytön
kannalta ja mitkä ovat jäänteitä historiallisista syistä. Tärkeimpien
ominaisuuksien ja kehitettävien ominaisuuksien tunnistamiseen käytetään
ohjelmointikielten tulevaisuutta käsittelevää artikkelia \emph{The Next 7000
Programming Languages}~\citep{next7000}, C-kielen suosiota käsittelevää
artikkelia \emph{Some Were Meant For C}~\citep{somemeantforc} sekä Dennis
Ritchien artikkelissa \emph{The Development of the C Language}~\citep{chistory}
esiin nostettuja C:n ominaisuuksia.

Kolmannessa luvussa määritetään toisen luvun esiin nostamien ominaisuuksien
pohjalta vertailukriteerit kielten vertaamiseen, käsitellään lyhyesti
tutkielmaan valittuja vertailtavia kieliä sekä käsitellään erilaisia yleisiä
ohjelmointikielten valintaan liittyviä tekijöitä. Edellä mainitut kielet
valitaan, sillä ne ovat suosittuja~\citep{tiobe} sekä kunkin kielen historiassa
on ollut tavoitteena korvata C:n käyttö. Ohjelmistojen toteutuskielen
valintaprosessia käsitellään artikkelin \emph{Empirical Analysis of Programming
Language Adoption}~\citep{empiricalpopularity} avulla, jossa tutkitaan
kyselyillä erilaisia syitä ohjelmointikielen valintaan.

Neljännessä luvussa esitellään vertailtavat kielet ja käsitellään näiden
kielten ominaisuuksien tehokkuutta ja yhteensopivuutta C:n kanssa. Kaikki
vertailtavat kielet sisältävät ominaisuuksia, jotka haittaavat yhteensopivuutta
C:n kanssa. Tämän lisäksi suorituskykymittauksista ilmenee, kuinka kaikkien
kielten toteutukset käyttävät enemmän muistia Benchmarks Gamen vertailuissa.

Viidennessä luvussa määritellään uusi ohjelmointikieli, Purkka. Kielen
suunnittelussa painotetaan erityisesti C-yhteensopivuutta esimerkiksi C-kielen
esikäsittelijätuen kautta. Suunnittelussa pyritään parantamaan C:tä erityisesti
syntaksin osalta, mutta myös tarjoamalla vahvempaa tyypitystä. Purkka-kieli
käännetään C-kieleksi, jotta kielen yhteensopivuus olisi mahdollisimman hyvä
nykyisten ohjelmistojen yhteydessä.

Kuudennessa luvussa verrataan Purkka-kielellä toteutettuja Benchmarks Gamen
ohjelmia muihin kieliin. Suorituskykymittauksissa Purkka pysyy yhtä tehokkaana
kuin C, mutta Purkan lähdekooditiedostot ovat noin kuusi prosenttia pienempiä
verrattuna vastaaviin C-tiedostoihin. Kuudennessa luvussa myös arvioidaan
tutkielman oikeellisuutta ja pohditaan jatkotutkimuskohteita.

Seitsemännessä luvussa kerrataan tutkielman tulokset.
